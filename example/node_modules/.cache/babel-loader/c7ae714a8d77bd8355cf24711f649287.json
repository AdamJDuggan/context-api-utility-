{"ast":null,"code":"import _regeneratorRuntime from\"/home/adam/Desktop/simple-context-state/application/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/adam/Desktop/simple-context-state/application/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _toConsumableArray from\"/home/adam/Desktop/simple-context-state/application/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import axios from\"axios\";var TodosStore={name:\"todos\",initialState:[\"Buy milk\",\"Start running\",\"Phone a friend\"],actions:{add:function add(state){return function(payload){var newState=[].concat(_toConsumableArray(state),[payload]);return newState;};},fetch:function fetch(state){return function(payload){return/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var responce,newState;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios.get(\"https://jsonplaceholder.typicode.com/todos/1\").then(function(res){return res.data.title;});case 2:responce=_context.sent;newState=[].concat(_toConsumableArray(state),[responce]);return _context.abrupt(\"return\",newState);case 5:case\"end\":return _context.stop();}}},_callee);}));};},fetch_fail:function fetch_fail(state){return function(payload){return/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var responce,newState;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return axios.get(\"https://djsonplaceholder.typicode.com/todos/1\",{timeout:2000}).then(function(res){return res.data.title;});case 2:responce=_context2.sent;newState=[].concat(_toConsumableArray(state),[responce]);return _context2.abrupt(\"return\",newState);case 5:case\"end\":return _context2.stop();}}},_callee2);}));};}}};export{TodosStore};","map":{"version":3,"sources":["/home/adam/Desktop/simple-context-state/application/src/stores/TodosStore.js"],"names":["axios","TodosStore","name","initialState","actions","add","state","payload","newState","fetch","get","then","res","data","title","responce","fetch_fail","timeout"],"mappings":"mgBAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CAEA,GAAMC,CAAAA,UAAU,CAAG,CACjBC,IAAI,CAAE,OADW,CAEjBC,YAAY,CAAE,CAAC,UAAD,CAAa,eAAb,CAA8B,gBAA9B,CAFG,CAGjBC,OAAO,CAAE,CACPC,GAAG,CAAE,aAACC,KAAD,QAAW,UAACC,OAAD,CAAa,CAC3B,GAAMC,CAAAA,QAAQ,8BAAOF,KAAP,GAAcC,OAAd,EAAd,CACA,MAAOC,CAAAA,QAAP,CACD,CAHI,EADE,CAKPC,KAAK,CAAE,eAACH,KAAD,QAAW,UAACC,OAAD,6EAAa,+KACNP,CAAAA,KAAK,CACzBU,GADoB,iDAEpBC,IAFoB,CAEf,SAACC,GAAD,QAASA,CAAAA,GAAG,CAACC,IAAJ,CAASC,KAAlB,EAFe,CADM,QACvBC,QADuB,eAIvBP,QAJuB,8BAIRF,KAJQ,GAIDS,QAJC,mCAKtBP,QALsB,wDAAb,IAAX,EALA,CAYPQ,UAAU,CAAE,oBAACV,KAAD,QAAW,UAACC,OAAD,6EAAa,qLACXP,CAAAA,KAAK,CACzBU,GADoB,iDACiC,CAAEO,OAAO,CAAE,IAAX,CADjC,EAEpBN,IAFoB,CAEf,SAACC,GAAD,QAASA,CAAAA,GAAG,CAACC,IAAJ,CAASC,KAAlB,EAFe,CADW,QAC5BC,QAD4B,gBAI5BP,QAJ4B,8BAIbF,KAJa,GAINS,QAJM,oCAK3BP,QAL2B,0DAAb,IAAX,EAZL,CAHQ,CAAnB,CAyBA,OAASP,UAAT","sourcesContent":["import axios from \"axios\";\n\nconst TodosStore = {\n  name: \"todos\",\n  initialState: [\"Buy milk\", \"Start running\", \"Phone a friend\"],\n  actions: {\n    add: (state) => (payload) => {\n      const newState = [...state, payload];\n      return newState;\n    },\n    fetch: (state) => (payload) => async () => {\n      const responce = await axios\n        .get(`https://jsonplaceholder.typicode.com/todos/1`)\n        .then((res) => res.data.title);\n      const newState = [...state, responce];\n      return newState;\n    },\n    fetch_fail: (state) => (payload) => async () => {\n      const responce = await axios\n        .get(`https://djsonplaceholder.typicode.com/todos/1`, { timeout: 2000 })\n        .then((res) => res.data.title);\n      const newState = [...state, responce];\n      return newState;\n    },\n  },\n};\n\nexport { TodosStore };\n"]},"metadata":{},"sourceType":"module"}